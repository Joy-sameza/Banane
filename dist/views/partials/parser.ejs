<% if (data) { for (const year in data) { const yearData = data[year]; %>
<section>
  <div class="page-title">
    <h1 class="title">Donnée de <%= year %></h1>
  </div>
  <div class="card-grid">
    <% for (const month in yearData) { const monthData = yearData[month]; const
    cellMonth = new Date(month).toLocaleDateString("fr", { month: "long", }); %>

    <a href="/donee?query=<%= month %>">
      <div class="card">
        <div class="card-title">
          <h2 class="title" style="text-transform: capitalize">
            <%= cellMonth %>
          </h2>
        </div>
        <hr />
        <div class="card-body">
          <div class="cell">
            <div class="name">Achats</div>
            <div class="value"><%= formatNumbers(monthData.achats) %></div>
          </div>
          <div class="cell">
            <div class="name">Production</div>
            <div class="value"><%= formatNumbers(monthData.produits) %></div>
          </div>
          <div class="cell">
            <div class="name">Ventes</div>
            <div class="value"><%= formatNumbers(monthData.ventes) %></div>
          </div>
          <div class="cell">
            <div class="name">Depences</div>
            <div class="value"><%= formatNumbers(monthData.dette) %></div>
            <!-- TODO: Should definitely change this value to use the correct value for Depences  -->
          </div>
        </div>
      </div>
    </a>
    <% } %>
  </div>
</section>

<% } %> <% } else { %>
<h2
  style="
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  "
>
  Aucune donnée
</h2>
<% } function formatNumbers(number) { return new
Intl.NumberFormat("fr-CM").format(number); } %>
